import 'package:http/http.dart' as http;
import 'dart:convert';

void sendPostRequest() async {
  var url = Uri.parse('https://mockbin.org/bin/2cf10def-2ee2-40b4-b9f6-fc14ff0d9bd8/view');

  // Menentukan header
  Map<String, String> headers = {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_access_token',
  };

  // Menentukan body
  Map<String, dynamic> body = {
    'name': 'John Doe',
    'email': 'johndoe@example.com',
    'password': 'secret123',
  };

  // Melakukan HTTP POST request
  var response = await http.post(url, headers: headers, body: jsonEncode(body));

  // Mengecek status kode response
  if (response.statusCode == 200) {
    // Mengonversi responsenya menjadi JSON
    var responseData = jsonDecode(response.body);

    // Mengakses data yang diperlukan dari response
    var id = responseData['id'];
    var name = responseData['name'];
    var email = responseData['email'];

    // Menampilkan data
    print('ID: $id');
    print('Name: $name');
    print('Email: $email');
  } else {
    print('Request failed with status: ${response.statusCode}');
  }
}
